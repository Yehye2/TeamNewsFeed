<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" href="./profile.css" />
    <title>profile page</title>
</head>

<body>
    <!-- 헤더 -->
    <header class="profile-header">
        <div class="profile-title">
            <h1>3조 문구</h1>
        </div>
        <div class="profile-settings">
            <button id="open-settings">설정</button>
        </div>

        <div class="modal hidden">

            <div class="modal_overlay"></div>

            <div class="modal_content">
                <h1>내 정보 수정</h1>
                <div class="input-group">
                    <div class="input-form">
                        <input type="text" class="form-control" placeholder="제목을 작성하세요.">
                        <input type="text" class="form-control" placeholder="이미지 URL을 넣어주세요.">
                        <input type="text" class="form-control" placeholder="본문을 작성하세요.">
                    </div>

                    <div class="modal-btn">
                        <button>수정</button>
                        <button id="close">닫기</button>
                    </div>

                </div>
            </div>

        </div>

    </header>

    <!-- 프로필 정보  -->
    <div class="container-1">
        <div class="row">
            <div class="profile-img">
                <img
                    src="https://item.kakaocdn.net/do/dc9561970173c28a13654c3f14180b4b617ea012db208c18f6e83b1a90a7baa7" />
            </div>

            <div class="profile-section">
                <div class="profile-nickname">
                    <h2>닉네임 입니다.</h2>
                </div>

                <div class="post-follow">
                    <p>팔로워: <span id="follow-count">0</span></p>
                    <p>게시글: <span>0</span></p>
                    <button>팔로우</button>
                    <button>게시글 작성</button>
                </div>
                <div class="profile-introduction">
                    <p>안녕하세요 나를 소개합니다.안녕하세요 나를 소개합니다.안녕하세요 나를 소개합니다.안녕하세요 나를 소개합니다.안녕하세요 나를 소개합니다.안녕하세요 나를 소개합니다.안녕하세요
                        나를 소개합니다.안녕하세요 나를 소개합니다.안녕하세요 나를 소개합니다.안녕하세요 나를 소개합니다.안녕하세요 나를 소개합니다.안녕하세요 나를 소개합니다.안녕하세요 나를
                        소개합니다.안녕하세요 나를 소개합니다.안녕하세요 나를 소개합니다.</p>
                </div>

            </div>
        </div>
    </div>

    <!-- 게시글 정보 -->
    <div class="container-2">
        <div class="row-2">
            <div class="post-container">
                <div>
                    <img src="https://image.yes24.com/goods/102347474/XL" />
                </div>
                <div class="post-text">
                    <h3>게시글 제목</h3>
                    <p>게시글 샘플입니다.</p>
                </div>
            </div>
            <div class="post-container">
                <div>
                    <img src="https://image.yes24.com/goods/102347474/XL" />
                </div>
                <div class="post-text">
                    <h3>게시글 제목</h3>
                    <p>게시글 샘플입니다.</p>
                </div>
            </div>
            <div class="post-container">
                <div>
                    <img src="https://image.yes24.com/goods/102347474/XL" />
                </div>
                <div class="post-text">
                    <h3>게시글 제목</h3>
                    <p>게시글 샘플입니다.</p>
                </div>
            </div>
        </div>
    </div>


</body>

<script>
    // 모달 띄우기 js 코드 
    const openButton = document.getElementById("open-settings");
    const modal = document.querySelector(".modal");
    const overlay = modal.querySelector(".modal_overlay");
    const closeBtn = modal.querySelector("#close");

    const openModal = () => {
        modal.classList.remove("hidden");
    };

    const closeModal = () => {
        modal.classList.add("hidden");
    };

    openButton.addEventListener("click", openModal);
    overlay.addEventListener("click", closeModal);
    closeBtn.addEventListener("click", closeModal);


    $(document).ready(function () {
        try {
            const userId = 2
            // 팔로워 수 조회
            const allFollowers = document.getElementById("follow-count");
            fetch(`/api/users/${userId}/followers`) // 임시 테스트로 userId 하드코딩
                .then(response => response.json())
                .then(data => {

                    const followersCount = data.getFollowers.length;
                    allFollowers.innerText = followersCount;
                })
                .catch(error => {
                    console.error('팔로워 수 조회에 실패했습니다.', error);
                });
        } catch (error) {
            console.error('팔로워 수 조회에 실패했습니다.', error);
        }
    });




</script>


</html>